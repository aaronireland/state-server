<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# geospatial

```go
import "github.com/aaronireland/state-server/pkg/geospatial"
```

Package geospatial implements objects and functions useful for representing a geographic [State](<#State>) as a geospatial entity and performing operations on that entity such as: visualization with mapping tools and efficiently determining if a geographic coordinate is contained within the entity's borders

## Index

- [Constants](<#constants>)
- [type Coordinate](<#Coordinate>)
  - [func LatLng\(lat, lng float64\) Coordinate](<#LatLng>)
  - [func \(c Coordinate\) MarshalJSON\(\) \(\[\]byte, error\)](<#Coordinate.MarshalJSON>)
  - [func \(c Coordinate\) String\(\) string](<#Coordinate.String>)
  - [func \(c \*Coordinate\) UnmarshalJSON\(data \[\]byte\) error](<#Coordinate.UnmarshalJSON>)
- [type InvalidGeometryError](<#InvalidGeometryError>)
  - [func \(e \*InvalidGeometryError\) Error\(\) string](<#InvalidGeometryError.Error>)
- [type Polygon](<#Polygon>)
  - [func NewPolygon\(coords \[\]Coordinate\) \(\*Polygon, error\)](<#NewPolygon>)
  - [func \(p Polygon\) Contains\(coord Coordinate\) \(contains bool\)](<#Polygon.Contains>)
  - [func \(p Polygon\) MarshalJSON\(\) \(\[\]byte, error\)](<#Polygon.MarshalJSON>)
  - [func \(p Polygon\) String\(\) string](<#Polygon.String>)
  - [func \(p \*Polygon\) UnmarshalJSON\(data \[\]byte\) error](<#Polygon.UnmarshalJSON>)
  - [func \(p Polygon\) Validate\(\) error](<#Polygon.Validate>)
- [type RighthandRuleError](<#RighthandRuleError>)
  - [func \(e \*RighthandRuleError\) Error\(\) string](<#RighthandRuleError.Error>)
- [type State](<#State>)
  - [func NewState\(name string, coords \[\]Coordinate\) \(state State, err error\)](<#NewState>)
  - [func \(s State\) Contains\(coordinate Coordinate\) bool](<#State.Contains>)


## Constants

<a name="RingTooShort"></a>

```go
const (
    RingTooShort         = "polygon ring too short, must contain at least 4 positions"
    RingUnclosed         = "polygon ring must be closed, first and last positions must be equal"
    RingCounterClockwise = "polygon exterior ring must be clockwise"
)
```

<a name="Coordinate"></a>
## type Coordinate

Represents a single point on a map or spherical geometry

```go
type Coordinate struct {
    Lng, Lat float64
}
```

<a name="LatLng"></a>
### func LatLng

```go
func LatLng(lat, lng float64) Coordinate
```

Creates the expected [Coordinate](<#Coordinate>) object with ordered arguments by latitude and longitude

<a name="Coordinate.MarshalJSON"></a>
### func \(Coordinate\) MarshalJSON

```go
func (c Coordinate) MarshalJSON() ([]byte, error)
```



<a name="Coordinate.String"></a>
### func \(Coordinate\) String

```go
func (c Coordinate) String() string
```

Formats the coordinate as a string

<a name="Coordinate.UnmarshalJSON"></a>
### func \(\*Coordinate\) UnmarshalJSON

```go
func (c *Coordinate) UnmarshalJSON(data []byte) error
```



<a name="InvalidGeometryError"></a>
## type InvalidGeometryError



```go
type InvalidGeometryError struct {
    // contains filtered or unexported fields
}
```

<a name="InvalidGeometryError.Error"></a>
### func \(\*InvalidGeometryError\) Error

```go
func (e *InvalidGeometryError) Error() string
```



<a name="Polygon"></a>
## type Polygon

Provides methods for validation and analysis of the geospatial shape represented by the array of coordinates

```go
type Polygon []Coordinate
```

<a name="NewPolygon"></a>
### func NewPolygon

```go
func NewPolygon(coords []Coordinate) (*Polygon, error)
```

Constructs a new instance of a Polygon struct with valid coordinates which satisfy the RFC 7946 GeoJSON specifications \[See: 3.1.6 Polygon\]\(https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6\)

<a name="Polygon.Contains"></a>
### func \(Polygon\) Contains

```go
func (p Polygon) Contains(coord Coordinate) (contains bool)
```

Uses the \[Ray\-casting algorithm\] to efficiently identify if the given coordinate is contained within the geospatial polygon. In simple terms, this algorithm creates horizontal lines \(rays\) and counts the number of intersections with the polygon's boundaries, an odd number of intersections indicates that the coordinate lies within the boundaries of the polygon. \[Ray\-casting algortithm\]\(https://rosettacode.org/wiki/Ray-casting_algorithm\)

<a name="Polygon.MarshalJSON"></a>
### func \(Polygon\) MarshalJSON

```go
func (p Polygon) MarshalJSON() ([]byte, error)
```



<a name="Polygon.String"></a>
### func \(Polygon\) String

```go
func (p Polygon) String() string
```

Formats the coordinate array so that is marshals into valid JSON

<a name="Polygon.UnmarshalJSON"></a>
### func \(\*Polygon\) UnmarshalJSON

```go
func (p *Polygon) UnmarshalJSON(data []byte) error
```



<a name="Polygon.Validate"></a>
### func \(Polygon\) Validate

```go
func (p Polygon) Validate() error
```

Implements the RFC 7946 specifications for a geospatial Polygon \[See: 3.1.6 Polygon\]\(https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6\)

<a name="RighthandRuleError"></a>
## type RighthandRuleError



```go
type RighthandRuleError struct {
    Angle float64
}
```

<a name="RighthandRuleError.Error"></a>
### func \(\*RighthandRuleError\) Error

```go
func (e *RighthandRuleError) Error() string
```



<a name="State"></a>
## type State

Represents a geographic state as a name and a geospatial polygon \(i.e. a linear ring of boundary coordinates\)

```go
type State struct {
    Name   string  `json:"state"`
    Border Polygon `json:"border"`
}
```

<a name="NewState"></a>
### func NewState

```go
func NewState(name string, coords []Coordinate) (state State, err error)
```

Constructor generates a new [State](<#State>) object with the provided name and array of coordinates. Translates the coordinates into a \[Polyon\] object which ensures the state's border is representable as valid GeoJSON

<a name="State.Contains"></a>
### func \(State\) Contains

```go
func (s State) Contains(coordinate Coordinate) bool
```

Calls the Contains method for the [Polygon](<#Polygon>) object representing the state's border

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
